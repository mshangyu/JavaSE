/*相同的票卖了多次 ：
 * cpu的每一次执行 必须是一个原子性的操作 这个操作时不能分割的
 * int i=10;其实是两个原子性的操作
 * 这样的话 ，tickets-- 也不是一个原子性的操作  
 * 可能在操作的同时 被其他的线程给执行了，这样的话相同的票就执行了多次
 * */
public class Ticket2 implements Runnable {
	private int tickets=100;
	
//	public Ticket2(){}
//	public Ticket2(String name){
//		super(name);
//	}
	
	@Override
	public void run() {
		while(true){
			if(tickets>0){
				try {
					Thread.sleep(10);
				} catch (InterruptedException e) {
					e.printStackTrace();
				}
				System.out.println(Thread.currentThread().getName()+"正在出售第"+(tickets--)+"张票");
			}
		}
	}
}
